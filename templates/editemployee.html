{% extends "base.html" %}

{% block title %}Edit Employee{% endblock %}

{% block content %}
<h2 style="text-align:center; margin-bottom:20px;">Edit Employee</h2>

<form action="{{ url_for('edit_employee', id=employee.EmployeeId) }}" method="POST" style="width:50%; margin:auto;">
    <label for="Fullname">Employee Name:</label><br> 
    <input type="text" id="Fullname" name="Fullname" value="{{ employee.Fullname }}" style="width:100%; padding:8px; margin:10px 0;"><br>
    
    <label for="Email">Email:</label><br>
    <input type="text" id="Email" name="Email" value="{{ employee.Email }}" style="width:100%; padding:8px; margin:10px 0;"><br>
    
    <label for="ServiceId">Service Id:</label><br>
    <input type="text" id="ServiceId" name="ServiceId" value="{{ employee.ServiceId }}" style="width:100%; padding:8px; margin:10px 0;"><br>
    
    <button type="submit" style="padding:8px 15px; background-color:#4CAF50; color:white; border:none; border-radius:5px; cursor:pointer;">Update Employee</button>
</form>

<!-- SweetAlert2 -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<!-- Success/Error toast -->
{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        {% for category, message in messages %}
        Swal.fire({
          toast: true,
          position: 'top-end',
          icon: '{{ category }}',
          title: '{{ message }}',
          showConfirmButton: false,
          timer: 2000,
          timerProgressBar: true
        });
        {% endfor %}
      });
    </script>
  {% endif %}
{% endwith %}
{% endblock %}
